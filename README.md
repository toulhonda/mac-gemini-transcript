# macOS Gemini AI Transcription Tool

## 概要

このツールは、YouTube動画のトランスクリプト（テキストファイル）をGemini AIを使用して修正・変換するためのmacOS向けCLIツールです。誤字脱字の修正、話し言葉から書き言葉への変換、句読点の追加、間投詞の削除などを行い、読みやすい文章に整形します。

## 機能

*   **Gemini AIによる高度なテキスト変換**: Google Gemini APIを利用して、トランスクリプトを自然な書き言葉に変換します。
*   **チャンク処理**: 大量のテキストをGemini APIの制限に合わせて自動的にチャンクに分割し、処理します（3000〜4000文字）。
*   **タイムスタンプの自動削除**: トランスクリプト内の `(00:00)` 形式のタイムスタンプを自動的に削除します。
*   **対話式設定**: 実行時に動画のテーマ、話者の属性、動画の目的、出力のトーンなどを対話形式で入力できます。
*   **設定の保存と再利用**: 入力された設定は一時ファイルに保存され、次回実行時にデフォルト値として再利用できます。
*   **自動出力ファイル名**: 処理されたテキストは、元のファイル名に基づいて自動生成されたファイル名（例: `元のファイル名_修正.txt`）で出力されます。
*   **終了オプション**: いずれかの入力プロンプトで `q` と入力することで、いつでもプログラムを終了できます。

## インストール

1.  **リポジトリのクローン**:
    ```bash
    git clone https://github.com/toulhonda/mac-gemini-transcript.git
    cd mac-gemini-transcript
    ```

2.  **Python仮想環境のセットアップ**:
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  **依存関係のインストール**:
    ```bash
    pip install -r requirements.txt
    ```

4.  **Gemini APIキーの設定**:
    `config.json` という名前のファイルを作成し、以下の形式でGemini APIキーと使用するモデルを設定してください。
    ```json
    {
        "GEMINI_API_KEY": "YOUR_GEMINI_API_KEY",
        "GEMINI_MODEL": "gemini-1.5-flash" # または "gemini-2.5-flash" など
    }
    ```
    *   `YOUR_GEMINI_API_KEY` の部分を、[Google AI Studio](https://aistudio.google.com/app/apikey) で取得した実際のAPIキーに置き換えてください。
    *   `GEMINI_MODEL` はオプションです。指定しない場合、デフォルトで `gemini-1.5-flash` が使用されます。利用可能なモデルについては、Gemini APIのドキュメントを参照してください。

## 使用方法

仮想環境をアクティベートした状態で、以下のいずれかの方法でスクリプトを実行します。

1.  **直接実行 (推奨、特にシンボリックリンク後)**:
    ```bash
    ./mac-gemini-transcript.py
    ```
    または、`/usr/local/bin` にシンボリックリンクを作成した場合:
    ```bash
    mac-gemini-transcript
    ```

2.  **Pythonインタープリターを指定して実行**:
    ```bash
    python mac-gemini-transcript.py
    ```

プログラムが起動すると、スプラッシュ画面が表示され、その後、対話形式で以下の情報が求められます。

1.  **対象ファイルのパス**: 処理したいトランスクリプトファイル（例: `script/trans1.txt`）の絶対パスまたは相対パスを入力します。
2.  **動画のテーマ**: 動画の主なテーマを入力します（例: `Pythonプログラミングの基礎`）。
3.  **話者の属性・専門家**: 話し手の属性や専門分野を入力します（例: `ソフトウェアエンジニア`）。
4.  **動画の目的**: 動画が視聴者に何を伝えたいか、その目的を入力します（例: `視聴者にPythonの概念を理解させる`）。
5.  **出力のトーン**: 修正後の文章のトーンを入力します（例: `丁寧語、専門的`）。

これらの情報は、次回実行時にデフォルト値として表示されます。入力せずにEnterを押すと、前回の設定が使用されます。

**プログラムの終了**: いずれかの入力プロンプトで `q` と入力すると、プログラムは終了します。

## 出力ファイル

処理が完了すると、入力ファイルと同じディレクトリに `[元のファイル名]_修正.txt` という形式で修正されたトランスクリプトが出力されます。

例: `script/trans1.txt` を入力した場合、`script/trans1_修正.txt` が出力されます。

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細については、LICENSEファイルを参照してください。
